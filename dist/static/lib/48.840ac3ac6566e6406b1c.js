webpackJsonp([48],{BzYi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=d(a("ABCa")),o=d(a("WZtS")),n=d(a("Msp2")),i=d(a("63CM")),r=d(a("2sLL")),u=a("E3TW");function d(t){return t&&t.__esModule?t:{default:t}}e.default={directives:{TransferDom:i.default},data:function(){return{menus:{menu1:"退出登录"},showMenus:!1,height:document.documentElement.clientHeight-3+"px",option:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"},isShowCover:!1,showToast:!1,showMask:!0,toastMsg:"",toastType:"",showLoading:!1,loadText:"",sm_status:"",bank_status:"",people_status:"",ht_status:""}},created:function(){this.getGuideInfoStatus()},components:{XHeader:s.default,PopupHeader:o.default,Actionsheet:n.default,XButton:r.default},methods:{getGuideInfoStatus:function(){var t=this,e=this.$route.query.orderid,a=this,s=this.$qs.stringify({orderid:e});this.$axios({method:"post",url:u.httpUrl.guideInfo,data:s}).then(function(e){console.log(e.data);var s=e.data.retData;200==e.data.errCode?(t.sm_status=s.sm_status,t.bank_status=s.bank_status,t.people_status=s.people_status,t.ht_status=s.ht_status,t.orderid=s.orderid):201==e.data.errCode?t.$vux.toast.show({type:"warn",text:e.data.retMsg}):401==e.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},save:function(){var t=this.$refs.signature.save();if(this.$refs.signature.isEmpty())return this.showToast=!0,this.toastMsg="您未签名，请先签名",void(this.toastType="warn");0!=this.sm_status?0!=this.bank_status?0!=this.people_status?1!=this.ht_status?this.uploadSign(t):this.$vux.toast.show({type:"warn",text:"您已签过名，请勿重复提交！"}):this.$vux.toast.show({type:"warn",text:"请先完成联系人认证！"}):this.$vux.toast.show({type:"warn",text:"请先完成银行卡认证！"}):this.$vux.toast.show({type:"warn",text:"请先完成实名认证！"})},clear:function(){this.$refs.signature.clear()},uploadSign:function(t){var e=this,a=this;this.showLoading=!0,this.loadText="正在保存签名，生成合同...";var s=this.$route.query.orderid,o=(this.$route.query.transfinite,this.$qs.stringify({orderid:s,file:t,is_apple:1,type:2}));this.$axios({method:"post",url:u.httpUrl.signUpload,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:o}).then(function(t){console.log(t.data),e.showLoading=!1,e.loadText="",200==t.data.errCode?e.$vux.alert.show({content:"签名成功",onHide:function(){a.getWxPayData()}}):201==t.data.errCode?(e.showToast=!0,e.toastMsg=t.data.retMsg,e.toastType="warn"):401==t.data.errCode&&e.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}})})},updatedata:function(){var t=this,e=this.$route.query.orderid,a=this,s=this.$qs.stringify({orderid:e,is_sign:1});this.$axios({method:"post",url:u.httpUrl.updatedata,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:s}).then(function(e){console.log(e.data),t.$vux.loading.hide(),200==e.data.errCode||(201==e.data.errCode?t.$vux.toast.show({text:e.data.retMsg,type:"warn",onHide:function(){}}):401==e.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}}))}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},getWxPayData:function(){var t=this,e=this,a=this.$route.query.orderid;console.log(a);var s=this.$qs.stringify({orderid:a});this.$axios({method:"post",url:"http://ybuser.youxia.com/Pay/wxPay",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:s}).then(function(a){201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):e.weixinPay(JSON.parse(a.data))})},weixinPay:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady(t))):this.onBridgeReady(t)},onBridgeReady:function(t){var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg?e.$vux.toast.show({text:"支付成功",type:"success",onHide:function(){e.$router.push("/home")}}):"get_brand_wcpay_request:fail"==t.err_msg&&e.$vux.toast.show({text:"支付失败"+t.err_msg,type:"warn",onHide:function(){e.$router.push("/home")}})})},LoginOut:function(){var t=this;this.$axios({method:"post",url:u.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},goHome:function(){this.$router.push("/home")},goCreditInfoList:function(){this.$router.push("/credit_info_list")}}}},Dwoa:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"btnBox"},[a("x-button",{staticClass:"clearBtn",attrs:{type:"warn",mini:""},nativeOn:{click:function(e){return t.clear(e)}}},[t._v("清 空")]),t._v(" "),a("x-button",{staticClass:"saveBtn",attrs:{type:"primary",mini:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("保 存")])],1),t._v(" "),a("p",{staticClass:"tips"},[t._v("注意：请使用正楷签名")]),t._v(" "),a("div",{staticClass:"vueSignatureBox"},[a("vueSignature",{ref:"signature",staticClass:"vueSignature",attrs:{sigOption:t.option,w:"100%",h:"100vh"}})],1),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("actionsheet",{attrs:{menus:t.menus,"show-cancel":""},on:{"on-click-menu-menu1":t.LoginOut},model:{value:t.showMenus,callback:function(e){t.showMenus=e},expression:"showMenus"}})],1),t._v(" "),a("loading",{staticClass:"loading",attrs:{show:t.showLoading,text:t.loadText}}),t._v(" "),a("toast",{staticClass:"toastMsg",attrs:{type:t.toastType,"is-show-mask":t.showMask},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}},[t._v(t._s(t.toastMsg))])],1)},staticRenderFns:[]};e.a=s},XbIt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=d(a("ABCa")),o=d(a("WZtS")),n=d(a("Msp2")),i=d(a("63CM")),r=d(a("2sLL")),u=a("E3TW");function d(t){return t&&t.__esModule?t:{default:t}}e.default={directives:{TransferDom:i.default},data:function(){return{menus:{menu1:"退出登录"},showMenus:!1,height:document.documentElement.clientHeight-3+"px",option:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"},isShowCover:!1,showToast:!1,showMask:!0,toastMsg:"",toastType:"",showLoading:!1,loadText:"",sm_status:"",bank_status:"",people_status:"",ht_status:""}},created:function(){this.getGuideInfoStatus()},components:{XHeader:s.default,PopupHeader:o.default,Actionsheet:n.default,XButton:r.default},methods:{getGuideInfoStatus:function(){var t=this,e=this.$route.query.orderid,a=this,s=this.$qs.stringify({orderid:e});this.$axios({method:"post",url:u.httpUrl.guideInfo,data:s}).then(function(e){console.log(e.data);var s=e.data.retData;200==e.data.errCode?(t.sm_status=s.sm_status,t.bank_status=s.bank_status,t.people_status=s.people_status,t.ht_status=s.ht_status,t.orderid=s.orderid):201==e.data.errCode?t.$vux.toast.show({type:"warn",text:e.data.retMsg}):401==e.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},save:function(){var t=this.$refs.signature.save();if(this.$refs.signature.isEmpty())return this.showToast=!0,this.toastMsg="您未签名，请先签名",void(this.toastType="warn");0!=this.sm_status?0!=this.bank_status?0!=this.people_status?1!=this.ht_status?this.uploadSign(t):this.$vux.toast.show({type:"warn",text:"您已签过名，请勿重复提交！"}):this.$vux.toast.show({type:"warn",text:"请先完成联系人认证！"}):this.$vux.toast.show({type:"warn",text:"请先完成银行卡认证！"}):this.$vux.toast.show({type:"warn",text:"请先完成实名认证！"})},clear:function(){this.$refs.signature.clear()},uploadSign:function(t){var e=this,a=this;this.showLoading=!0,this.loadText="正在保存签名，生成合同...";var s=this.$route.query.orderid,o=(this.$route.query.transfinite,this.$qs.stringify({orderid:s,file:t,is_apple:1,type:2}));this.$axios({method:"post",url:u.httpUrl.signUpload,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:o}).then(function(t){console.log(t.data),e.showLoading=!1,e.loadText="",200==t.data.errCode?e.$vux.alert.show({content:"签名成功",onHide:function(){a.getWxPayData()}}):201==t.data.errCode?(e.showToast=!0,e.toastMsg=t.data.retMsg,e.toastType="warn"):401==t.data.errCode&&e.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}})})},updatedata:function(){var t=this,e=this.$route.query.orderid,a=this,s=this.$qs.stringify({orderid:e,is_sign:1});this.$axios({method:"post",url:u.httpUrl.updatedata,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:s}).then(function(e){console.log(e.data),t.$vux.loading.hide(),200==e.data.errCode||(201==e.data.errCode?t.$vux.toast.show({text:e.data.retMsg,type:"warn",onHide:function(){}}):401==e.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){a.$router.push("/quick_login")}}))}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},getWxPayData:function(){var t=this,e=this,a=this.$route.query.orderid;console.log(a);var s=this.$qs.stringify({orderid:a});this.$axios({method:"post",url:"http://ybuser.youxia.com/Pay/wxPay",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:s}).then(function(a){201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):e.weixinPay(JSON.parse(a.data))})},weixinPay:function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",this.onBridgeReady(t))):this.onBridgeReady(t)},onBridgeReady:function(t){var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg?e.$vux.toast.show({text:"支付成功",type:"success",onHide:function(){e.$router.push("/home")}}):"get_brand_wcpay_request:fail"==t.err_msg&&e.$vux.toast.show({text:"支付失败"+t.err_msg,type:"warn",onHide:function(){e.$router.push("/home")}})})},LoginOut:function(){var t=this;this.$axios({method:"post",url:u.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},goHome:function(){this.$router.push("/home")},goCreditInfoList:function(){this.$router.push("/credit_info_list")}}}},lrbB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("XbIt");a.n(s);for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);var n=a("BzYi"),i=a.n(n),r=a("Dwoa");var u=function(t){a("vZvj")},d=a("VU/8")(i.a,r.a,!1,u,"data-v-71ab2881",null);e.default=d.exports},vZvj:function(t,e){}});
//# sourceMappingURL=48.840ac3ac6566e6406b1c.js.map