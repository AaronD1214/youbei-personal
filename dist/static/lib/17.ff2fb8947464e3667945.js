webpackJsonp([17],{"24Sj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n("ABCa")),i=d(n("WZtS")),r=d(n("Msp2")),s=d(n("63CM")),a=d(n("2sLL")),u=n("E3TW"),l=n("iqGf");function d(e){return e&&e.__esModule?e:{default:e}}n("g3Gj"),n("5LIk"),t.default={directives:{TransferDom:s.default},data:function(){return{menus:{menu1:"退出登录"},showMenus:!1,height:document.documentElement.clientHeight-220+"px",option:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"},playerOptions:{height:"200",autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:""}],poster:"",notSupportedMessage:"视频加载失败！",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},created:function(){this.getData()},components:{XHeader:o.default,PopupHeader:i.default,Actionsheet:r.default,XButton:a.default,videoPlayer:l.videoPlayer},methods:{getData:function(){var e=this,t=this.$route.query.billdetail,n=this.$route.query.orderid,o=this,i=this.$qs.stringify({orderid:n});this.$axios({method:"post",url:u.httpUrl.guideInfo,data:i}).then(function(i){console.log(i.data);var r=i.data.retData;if(200==i.data.errCode){e.playerOptions.sources[0].src=r.sp_url,e.playerOptions.poster=r.videoPoster;var s=e.playerOptions.sources[0].src;console.log(s),1==t?e.isEmpty(s)&&e.$vux.toast.show({type:"warn",text:"未获取到视频资源！",onHide:function(){o.$router.push({path:"/bill_detail",query:{orderid:n}})}}):e.isEmpty(s)&&e.$vux.toast.show({type:"warn",text:"未获取到视频资源！",onHide:function(){o.$router.push({path:"/verify_step",query:{orderid:n,billdetail:1}})}})}else e.$vux.toast.show({text:"视频获取失败，请稍后再试",type:"warn"})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},onPlayerPlay:function(e){},onPlayerPause:function(e){},LoginOut:function(){var e=this;this.$axios({method:"post",url:u.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(t){console.log(t.data),200==t.data.errCode?e.$router.push("/quick_login"):201==t.data.errCode&&e.$vux.toast.show({type:"warn",text:t.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},goHome:function(){this.$router.push("/home")}}}},"5LIk":function(e,t){},"9T6F":function(e,t){},J5eS:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{margin:"20px"}},[n("div",{staticClass:"my-video"},[n("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{options:e.playerOptions,playsinline:!0},on:{play:function(t){e.onPlayerPlay(t)},pause:function(t){e.onPlayerPause(t)}}})],1)]),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("actionsheet",{attrs:{menus:e.menus,"show-cancel":""},on:{"on-click-menu-menu1":e.LoginOut},model:{value:e.showMenus,callback:function(t){e.showMenus=t},expression:"showMenus"}})],1)])},staticRenderFns:[]};t.a=o},Xkzs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n("ABCa")),i=d(n("WZtS")),r=d(n("Msp2")),s=d(n("63CM")),a=d(n("2sLL")),u=n("E3TW"),l=n("iqGf");function d(e){return e&&e.__esModule?e:{default:e}}n("g3Gj"),n("5LIk"),t.default={directives:{TransferDom:s.default},data:function(){return{menus:{menu1:"退出登录"},showMenus:!1,height:document.documentElement.clientHeight-220+"px",option:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"},playerOptions:{height:"200",autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:""}],poster:"",notSupportedMessage:"视频加载失败！",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},created:function(){this.getData()},components:{XHeader:o.default,PopupHeader:i.default,Actionsheet:r.default,XButton:a.default,videoPlayer:l.videoPlayer},methods:{getData:function(){var e=this,t=this.$route.query.billdetail,n=this.$route.query.orderid,o=this,i=this.$qs.stringify({orderid:n});this.$axios({method:"post",url:u.httpUrl.guideInfo,data:i}).then(function(i){console.log(i.data);var r=i.data.retData;if(200==i.data.errCode){e.playerOptions.sources[0].src=r.sp_url,e.playerOptions.poster=r.videoPoster;var s=e.playerOptions.sources[0].src;console.log(s),1==t?e.isEmpty(s)&&e.$vux.toast.show({type:"warn",text:"未获取到视频资源！",onHide:function(){o.$router.push({path:"/bill_detail",query:{orderid:n}})}}):e.isEmpty(s)&&e.$vux.toast.show({type:"warn",text:"未获取到视频资源！",onHide:function(){o.$router.push({path:"/verify_step",query:{orderid:n,billdetail:1}})}})}else e.$vux.toast.show({text:"视频获取失败，请稍后再试",type:"warn"})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},onPlayerPlay:function(e){},onPlayerPause:function(e){},LoginOut:function(){var e=this;this.$axios({method:"post",url:u.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(t){console.log(t.data),200==t.data.errCode?e.$router.push("/quick_login"):201==t.data.errCode&&e.$vux.toast.show({type:"warn",text:t.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},goHome:function(){this.$router.push("/home")}}}},g3Gj:function(e,t){},iqGf:function(e,t,n){var o;o=function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=window.videojs||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0});var r=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];t.default={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}}}},globalEvents:{type:Array,default:function(){return[]}}},data:function(){return{player:null,reseted:!0}},mounted:function(){this.player||this.initialize()},beforeDestroy:function(){this.player&&this.dispose()},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));var n=function(t,n){t&&e.$emit(t,e.player),n&&e.$emit(e.customEventName,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))};t.plugins&&delete t.plugins.__ob__;var o=this;this.player=i(this.$refs.video,t,function(){for(var e=this,t=r.concat(o.events).concat(o.globalEvents),i={},s=0;s<t.length;s++)"string"==typeof t[s]&&void 0===i[t[s]]&&function(t){i[t]=null,e.on(t,function(){n(t,!0)})}(t[s]);this.on("timeupdate",function(){n("timeupdate",this.currentTime())}),o.$emit("ready",this)})},dispose:function(e){var t=this;this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick(function(){t.reseted=!1,t.$nextTick(function(){t.reseted=!0,t.$nextTick(function(){e&&e()})})}))}},watch:{options:{deep:!0,handler:function(e,t){var n=this;this.dispose(function(){e&&e.sources&&e.sources.length&&n.initialize()})}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n.n(o);for(var r in o)["default","default"].indexOf(r)<0&&function(e){n.d(t,e,function(){return o[e]})}(r);var s=n(5),a=n(4)(i.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.videoPlayer=t.videojs=void 0;var i=o(n(0)),r=o(n(2)),s=window.videojs||i.default,a=function(e,t){t&&(t.options&&(r.default.props.globalOptions.default=function(){return t.options}),t.events&&(r.default.props.globalEvents.default=function(){return t.events})),e.component(r.default.name,r.default)},u={videojs:s,videoPlayer:r.default,install:a};t.default=u,t.videojs=s,t.videoPlayer=r.default,t.install=a},function(e,t){e.exports=function(e,t,n,o,i,r){var s,a=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(s=e,a=e.default);var l,d="function"==typeof a?a.options:a;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId=i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=l):o&&(l=o),l){var c=d.functional,p=c?d.render:d.beforeCreate;c?(d._injectStyles=l,d.render=function(e,t){return l.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,l):[l]}return{esModule:s,exports:a,options:d}}},function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.reseted?n("div",{staticClass:"video-player"},[n("video",{ref:"video",staticClass:"video-js"})]):e._e()},staticRenderFns:[]};t.a=o}])},e.exports=o(n("Dia2"))},okqv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("24Sj");n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);var r=n("Xkzs"),s=n.n(r),a=n("J5eS");var u=function(e){n("9T6F")},l=n("VU/8")(s.a,a.a,!1,u,"data-v-74265642",null);t.default=l.exports}});
//# sourceMappingURL=17.ff2fb8947464e3667945.js.map