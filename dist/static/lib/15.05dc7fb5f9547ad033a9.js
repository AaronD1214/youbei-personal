webpackJsonp([15],{"162o":function(t,e,a){(function(t){var o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("mypn"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,a("DuR2"))},"92ld":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("K5xT");a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);var n=a("NRaw"),s=a.n(n),r=a("wzos");var d=function(t){a("QYvl")},u=a("VU/8")(s.a,r.a,!1,d,"data-v-58f4829a",null);e.default=u.exports},K5xT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=m(a("bOdI")),i=m(a("ABCa")),n=m(a("rHil")),s=m(a("63CM")),r=m(a("WZtS")),d=m(a("Msp2")),u=m(a("2sLL")),c=m(a("mzja")),l=m(a("rLAy")),h=m(a("rGqP")),p=m(a("pDNl")),f=a("E3TW");a("162o");function m(t){return t&&t.__esModule?t:{default:t}}a("tCpz"),e.default={directives:{TransferDom:s.default},data:function(){return(0,o.default)({show:!1,menus:{menu1:"退出登录"},phone:"",showMenus:!1,idCardFrontImg:"",idCardFrontUrl:"./static/imgs/photo_icon.png",idCardBackImg:"",idCardBackUrl:"./static/imgs/photo_icon.png",name:"",idCard:"",display:"true"},"show","true")},created:function(){this.infoCheck()},components:{XHeader:i.default,PopupHeader:r.default,Actionsheet:d.default,XButton:u.default,Alert:c.default,Toast:l.default,Divider:h.default,Group:n.default,XInput:p.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:f.httpUrl.informationCheck}).then(function(a){console.log(a.data);var o=a.data.retData;if(200==a.data.errCode){var i=o.person;o.bank;if(1==i)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadFrontImg(a.result,2):o.onload=function(){var t=e.compress(o);e.upLoadFrontImg(t,2)}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadBackImg(a.result,3):o.onload=function(){var t=e.compress(o);e.upLoadBackImg(t,3)}}},upLoadFrontImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."}),this.show="false";var i=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:f.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success",time:2e3}),a.name=t.data.retData.name,a.idCard=t.data.retData.idcard,a.show="success1"):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardFrontImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},upLoadBackImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."}),this.display="false";var i=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:f.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success"}),a.display="success2"):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardBackImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,o=this;if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{var i=this.$qs.stringify({name:this.name,idcard:this.idCard});this.$axios({method:"post",url:f.httpUrl.checkDishonest,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(i){console.log(i.data),200==i.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?o.$router.push({path:"/verify_step",query:{orderid:a}}):o.$router.push("/credit_info_list")}}):201==i.data.errCode?(t.$vux.alert.show({title:"提示",content:i.data.retMsg}),t.idCardFrontImg="",t.idCardBackImg=""):401==i.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}},goHandle:function(){var t=this.$route.query.step_type,e=this.$route.query.orderid;"1"==t?this.$router.push({path:"/handle_certification",query:{step_type:"1",orderid:e}}):this.$router.push("/handle_certification")},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:f.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}},NRaw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=m(a("bOdI")),i=m(a("ABCa")),n=m(a("rHil")),s=m(a("63CM")),r=m(a("WZtS")),d=m(a("Msp2")),u=m(a("2sLL")),c=m(a("mzja")),l=m(a("rLAy")),h=m(a("rGqP")),p=m(a("pDNl")),f=a("E3TW");a("162o");function m(t){return t&&t.__esModule?t:{default:t}}a("tCpz"),e.default={directives:{TransferDom:s.default},data:function(){return(0,o.default)({show:!1,menus:{menu1:"退出登录"},phone:"",showMenus:!1,idCardFrontImg:"",idCardFrontUrl:"./static/imgs/photo_icon.png",idCardBackImg:"",idCardBackUrl:"./static/imgs/photo_icon.png",name:"",idCard:"",display:"true"},"show","true")},created:function(){this.infoCheck()},components:{XHeader:i.default,PopupHeader:r.default,Actionsheet:d.default,XButton:u.default,Alert:c.default,Toast:l.default,Divider:h.default,Group:n.default,XInput:p.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:f.httpUrl.informationCheck}).then(function(a){console.log(a.data);var o=a.data.retData;if(200==a.data.errCode){var i=o.person;o.bank;if(1==i)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadFrontImg(a.result,2):o.onload=function(){var t=e.compress(o);e.upLoadFrontImg(t,2)}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadBackImg(a.result,3):o.onload=function(){var t=e.compress(o);e.upLoadBackImg(t,3)}}},upLoadFrontImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."}),this.show="false";var i=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:f.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success",time:2e3}),a.name=t.data.retData.name,a.idCard=t.data.retData.idcard,a.show="success1"):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardFrontImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},upLoadBackImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."}),this.display="false";var i=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:f.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success"}),a.display="success2"):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardBackImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,o=this;if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{var i=this.$qs.stringify({name:this.name,idcard:this.idCard});this.$axios({method:"post",url:f.httpUrl.checkDishonest,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i}).then(function(i){console.log(i.data),200==i.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?o.$router.push({path:"/verify_step",query:{orderid:a}}):o.$router.push("/credit_info_list")}}):201==i.data.errCode?(t.$vux.alert.show({title:"提示",content:i.data.retMsg}),t.idCardFrontImg="",t.idCardBackImg=""):401==i.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}},goHandle:function(){var t=this.$route.query.step_type,e=this.$route.query.orderid;"1"==t?this.$router.push({path:"/handle_certification",query:{step_type:"1",orderid:e}}):this.$router.push("/handle_certification")},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:f.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}},QYvl:function(t,e){},Rj6H:function(t,e,a){t.exports=a.p+"static/img/idCardDemo_02.3fd124f.png"},mcRm:function(t,e,a){t.exports=a.p+"static/img/idCardDemo_01.67dcfa9.png"},mypn:function(t,e,a){(function(t,e){!function(t,a){"use strict";if(!t.setImmediate){var o,i,n,s,r,d=1,u={},c=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){f(t.data)},o=function(t){n.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,o=function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):o=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",r=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),o=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var i={callback:t,args:e};return u[d]=i,o(d),d++},h.clearImmediate=p}function p(t){delete u[t]}function f(t){if(c)setTimeout(f,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(a,o)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,a("DuR2"),a("W2nU"))},wzos:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("popup-header",{attrs:{"left-text":"实名认证","right-text":"提交"},on:{"on-click-right":t.submit}}),t._v(" "),o("div",{staticClass:"imgBox"},[o("img",{staticClass:"idDemo",attrs:{src:a("Rj6H")}}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"true"==t.show,expression:"show=='true'"}]},[o("VueImgInputer",{staticClass:"idCardImg",attrs:{id:"idCardFront",theme:"light",accept:"image/*,",capture:!1,imgSrc:t.idCardFrontUrl,onChange:t.onChangeFront,maxSize:5242880,placeholder:"",noMask:"",size:"small"},model:{value:t.idCardFrontImg,callback:function(e){t.idCardFrontImg=e},expression:"idCardFrontImg"}})],1),t._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:"success1"==t.show,expression:"show=='success1'"}],staticClass:"certifi_icon",attrs:{src:a("Vz9T")}}),t._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:"fail"==t.show,expression:"show=='fail'"}],staticClass:"certifi_icon",attrs:{src:a("kcYi")}})]),t._v(" "),o("div",{staticClass:"imgBox"},[o("img",{staticClass:"idDemo",attrs:{src:a("mcRm")}}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"true"==t.display,expression:"display=='true'"}]},[o("VueImgInputer",{staticClass:"idCardImg",attrs:{id:"idCardBack",theme:"light",accept:"image/*",imgSrc:t.idCardBackUrl,onChange:t.onChangeBack,maxSize:5242880,placeholder:"",noMask:"",size:"small"},model:{value:t.idCardBackImg,callback:function(e){t.idCardBackImg=e},expression:"idCardBackImg"}})],1),t._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:"success2"==t.display,expression:"display=='success2'"}],staticClass:"certifi_icon",attrs:{src:a("Vz9T")}}),t._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:"fail"==t.display,expression:"display=='fail'"}],staticClass:"certifi_icon",attrs:{src:a("kcYi")}})]),t._v(" "),o("group",{directives:[{name:"show",rawName:"v-show",value:"success1"==t.show,expression:"show=='success1'"}],staticClass:"group",attrs:{"label-width":"5.5em","label-margin-right":"1em","label-align":"justify"}},[o("x-input",{attrs:{title:"姓名",readonly:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),o("x-input",{attrs:{title:"身份证号码",max:18,readonly:""},model:{value:t.idCard,callback:function(e){t.idCard=e},expression:"idCard"}})],1),t._v(" "),o("divider",{staticStyle:{margin:"30px 10px"}},[t._v("身份证识别失败？请"),o("span",{staticStyle:{color:"#409EFF"},on:{click:t.goHandle}},[t._v("手动认证")])]),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("actionsheet",{attrs:{menus:t.menus,"show-cancel":""},on:{"on-click-menu-menu1":t.LoginOut},model:{value:t.showMenus,callback:function(e){t.showMenus=e},expression:"showMenus"}})],1)],1)},staticRenderFns:[]};e.a=o}});
//# sourceMappingURL=15.05dc7fb5f9547ad033a9.js.map