webpackJsonp([19],{"162o":function(t,e,a){(function(t){var o=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a("mypn"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,a("DuR2"))},MBLA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("zxZt");a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);var i=a("P+1S"),r=a.n(i),s=a("u5DR");var d=function(t){a("p/Yo")},u=a("VU/8")(r.a,s.a,!1,d,"data-v-de3e18a2",null);e.default=u.exports},"P+1S":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(a("ABCa")),n=h(a("63CM")),i=h(a("WZtS")),r=h(a("Msp2")),s=h(a("2sLL")),d=h(a("mzja")),u=h(a("rLAy")),c=h(a("rGqP")),l=a("E3TW");a("162o");function h(t){return t&&t.__esModule?t:{default:t}}a("tCpz"),e.default={directives:{TransferDom:n.default},data:function(){return{show:!1,menus:{menu1:"退出登录"},phone:"",showMenus:!1,idCardFrontImg:"",idCardFrontUrl:"",idCardBackImg:"",idCardBackUrl:"",name:"",idCard:""}},created:function(){},components:{XHeader:o.default,PopupHeader:i.default,Actionsheet:r.default,XButton:s.default,Alert:d.default,Toast:u.default,Divider:c.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:l.httpUrl.informationCheck}).then(function(a){console.log(a.data);var o=a.data.retData;if(200==a.data.errCode){var n=o.person;o.bank;if(1==n)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadFrontImg(a.result,2):o.onload=function(){var t=e.compress(o);e.upLoadFrontImg(t,2)}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadBackImg(a.result,3):o.onload=function(){var t=e.compress(o);e.upLoadBackImg(t,3)}}},upLoadFrontImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."});var n=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:l.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success",time:2e3}),a.name=t.data.retData.name,a.idCard=t.data.retData.idcard):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardFrontImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},upLoadBackImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."});var n=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:l.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?a.$vux.toast.show({text:"上传成功",type:"success"}):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardBackImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,o=this;if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{var n=this.$qs.stringify({name:this.name,idcard:this.idCard});this.$axios({method:"post",url:l.httpUrl.checkDishonest,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(n){console.log(n.data),200==n.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?o.$router.push({path:"/verify_step",query:{orderid:a}}):o.$router.push("/credit_info_list")}}):201==n.data.errCode?(t.$vux.alert.show({title:"提示",content:n.data.retMsg}),t.idCardFrontImg="",t.idCardBackImg=""):401==n.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}},goHandle:function(){var t=this.$route.query.step_type,e=this.$route.query.orderid;"1"==t?this.$router.push({path:"/handle_certification",query:{step_type:"1",orderid:e}}):this.$router.push("/handle_certification")},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:l.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}},mypn:function(t,e,a){(function(t,e){!function(t,a){"use strict";if(!t.setImmediate){var o,n,i,r,s,d=1,u={},c=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){f(t.data)},o=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,o=function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):o=function(t){setTimeout(f,0,t)}:(r="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&f(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),o=function(e){t.postMessage(r+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var n={callback:t,args:e};return u[d]=n,o(d),d++},h.clearImmediate=p}function p(t){delete u[t]}function f(t){if(c)setTimeout(f,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(a,o)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,a("DuR2"),a("W2nU"))},"p/Yo":function(t,e){},u5DR:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("popup-header",{attrs:{"left-text":"实名认证","right-text":"提交"},on:{"on-click-right":t.submit}}),t._v(" "),a("div",{staticClass:"imgBox"},[a("p",{staticClass:"imgTitle"},[t._v("身份证正面")]),t._v(" "),a("VueImgInputer",{staticClass:"idCardImg",attrs:{theme:"light",accept:"image/*",imgSrc:t.idCardFrontUrl,onChange:t.onChangeFront,maxSize:5242880,placeholder:"请上传身份证正面图片(头像那一面)",noMask:"",size:"small"},model:{value:t.idCardFrontImg,callback:function(e){t.idCardFrontImg=e},expression:"idCardFrontImg"}})],1),t._v(" "),a("div",{staticClass:"imgBox"},[a("p",{staticClass:"imgTitle"},[t._v("身份证反面")]),t._v(" "),a("VueImgInputer",{staticClass:"idCardImg",attrs:{theme:"light",accept:"image/jpeg, image/png, image/jpg, image/gif",imgSrc:t.idCardBackUrl,onChange:t.onChangeBack,maxSize:5242880,placeholder:"请上传身份证反面图片(国徽那一面)",noMask:"",size:"small"},model:{value:t.idCardBackImg,callback:function(e){t.idCardBackImg=e},expression:"idCardBackImg"}})],1),t._v(" "),a("divider",{staticStyle:{margin:"30px 10px"}},[t._v("身份证识别失败？请"),a("span",{staticStyle:{color:"#409EFF"},on:{click:t.goHandle}},[t._v("手动认证")])]),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("actionsheet",{attrs:{menus:t.menus,"show-cancel":""},on:{"on-click-menu-menu1":t.LoginOut},model:{value:t.showMenus,callback:function(e){t.showMenus=e},expression:"showMenus"}})],1)],1)},staticRenderFns:[]};e.a=o},zxZt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(a("ABCa")),n=h(a("63CM")),i=h(a("WZtS")),r=h(a("Msp2")),s=h(a("2sLL")),d=h(a("mzja")),u=h(a("rLAy")),c=h(a("rGqP")),l=a("E3TW");a("162o");function h(t){return t&&t.__esModule?t:{default:t}}a("tCpz"),e.default={directives:{TransferDom:n.default},data:function(){return{show:!1,menus:{menu1:"退出登录"},phone:"",showMenus:!1,idCardFrontImg:"",idCardFrontUrl:"",idCardBackImg:"",idCardBackUrl:"",name:"",idCard:""}},created:function(){},components:{XHeader:o.default,PopupHeader:i.default,Actionsheet:r.default,XButton:s.default,Alert:d.default,Toast:u.default,Divider:c.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:l.httpUrl.informationCheck}).then(function(a){console.log(a.data);var o=a.data.retData;if(200==a.data.errCode){var n=o.person;o.bank;if(1==n)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadFrontImg(a.result,2):o.onload=function(){var t=e.compress(o);e.upLoadFrontImg(t,2)}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,o=new Image;o.src=t,this.result.length<=102400?e.upLoadBackImg(a.result,3):o.onload=function(){var t=e.compress(o);e.upLoadBackImg(t,3)}}},upLoadFrontImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."});var n=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:l.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?(a.$vux.toast.show({text:"上传成功",type:"success",time:2e3}),a.name=t.data.retData.name,a.idCard=t.data.retData.idcard):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardFrontImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},upLoadBackImg:function(t,e){var a=this,o=this;this.$vux.loading.show({text:"正在上传..."});var n=this.$qs.stringify({typeid:e,image:t});this.$axios({method:"post",url:l.httpUrl.idcardUploads,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(t){console.log(t.data),a.$vux.loading.hide(),200==t.data.errCode?a.$vux.toast.show({text:"上传成功",type:"success"}):201==t.data.errCode?(a.$vux.toast.show({text:t.data.retMsg+"，请重新上传",type:"warn"}),a.idCardBackImg=""):401==t.data.errCode&&a.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,o=this;if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{var n=this.$qs.stringify({name:this.name,idcard:this.idCard});this.$axios({method:"post",url:l.httpUrl.checkDishonest,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:n}).then(function(n){console.log(n.data),200==n.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?o.$router.push({path:"/verify_step",query:{orderid:a}}):o.$router.push("/credit_info_list")}}):201==n.data.errCode?(t.$vux.alert.show({title:"提示",content:n.data.retMsg}),t.idCardFrontImg="",t.idCardBackImg=""):401==n.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){o.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}},goHandle:function(){var t=this.$route.query.step_type,e=this.$route.query.orderid;"1"==t?this.$router.push({path:"/handle_certification",query:{step_type:"1",orderid:e}}):this.$router.push("/handle_certification")},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:l.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}}});
//# sourceMappingURL=19.7dc5ff514a75e7ff0859.js.map