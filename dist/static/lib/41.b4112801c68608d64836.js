webpackJsonp([41],{"3Tip":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(a("ABCa")),o=m(a("63CM")),i=m(a("WZtS")),n=m(a("Msp2")),s=m(a("2sLL")),d=m(a("mzja")),u=m(a("rLAy")),c=m(a("rGqP")),h=m(a("pDNl")),l=m(a("rHil")),f=a("E3TW");function m(t){return t&&t.__esModule?t:{default:t}}e.default={directives:{TransferDom:o.default},data:function(){return{show:!1,menus:{menu1:"退出登录"},showMenus:!1,username:"",cardNo:"",idCardFrontImg:"",idCardFrontImgBase64:"",idCardFrontUrl:"",idCardBackImg:"",idCardBackImgBase64:"",idCardBackUrl:""}},created:function(){this.infoCheck()},components:{XHeader:r.default,PopupHeader:i.default,Actionsheet:n.default,XButton:s.default,Alert:d.default,Toast:u.default,Divider:c.default,XInput:h.default,Group:l.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:f.httpUrl.informationCheck}).then(function(a){console.log(a.data);var r=a.data.retData;if(200==a.data.errCode){var o=r.person;r.bank;if(1==o)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,r=new Image;r.src=t,this.result.length<=102400?e.idCardFrontImgBase64=a.result:r.onload=function(){var t=e.compress(r);e.idCardFrontImgBase64=t}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,r=new Image;r.src=t,this.result.length<=102400?e.idCardBackImgBase64=a.result:r.onload=function(){var t=e.compress(r);e.idCardBackImgBase64=t}}},checkCardNo:function(){if(!this.isEmpty(this.cardNo))return this.Val.isIdCardNo(this.cardNo)?void 0:(this.$vux.toast.show({text:"请输入正确的身份证号",type:"warn"}),void(this.cardNo=""));this.$vux.toast.show({text:"请输入身份证号",type:"warn"})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,r=this;if(this.isEmpty(this.username))this.$vux.toast.show({text:"请输入姓名",type:"warn"});else if(this.isEmpty(this.cardNo))this.$vux.toast.show({text:"请输入身份证号",type:"warn"});else{if(!this.Val.isIdCardNo(this.cardNo))return this.$vux.toast.show({text:"请输入正确的身份证号",type:"warn"}),void(this.cardNo="");if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{this.$vux.loading.show({text:"正在上传..."});var o=this.$qs.stringify({name:this.username,idcard:this.cardNo,img_front:this.idCardFrontImgBase64,img_back:this.idCardBackImgBase64});this.$axios({method:"post",url:f.httpUrl.manualIdcard,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:o}).then(function(o){console.log(o.data),t.$vux.loading.hide(),200==o.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?r.$router.push({path:"/verify_step",query:{orderid:a}}):r.$router.push("/credit_info_list")}}):201==o.data.errCode?(t.$vux.alert.show({title:"提示",content:o.data.retMsg}),t.username="",t.cardNo="",t.idCardFrontImg="",t.idCardBackImg=""):401==o.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){r.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:f.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}},"4OL0":function(t,e){},J5jM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(a("ABCa")),o=m(a("63CM")),i=m(a("WZtS")),n=m(a("Msp2")),s=m(a("2sLL")),d=m(a("mzja")),u=m(a("rLAy")),c=m(a("rGqP")),h=m(a("pDNl")),l=m(a("rHil")),f=a("E3TW");function m(t){return t&&t.__esModule?t:{default:t}}e.default={directives:{TransferDom:o.default},data:function(){return{show:!1,menus:{menu1:"退出登录"},showMenus:!1,username:"",cardNo:"",idCardFrontImg:"",idCardFrontImgBase64:"",idCardFrontUrl:"",idCardBackImg:"",idCardBackImgBase64:"",idCardBackUrl:""}},created:function(){this.infoCheck()},components:{XHeader:r.default,PopupHeader:i.default,Actionsheet:n.default,XButton:s.default,Alert:d.default,Toast:u.default,Divider:c.default,XInput:h.default,Group:l.default},methods:{infoCheck:function(){var t=this,e=this;this.$axios({method:"post",url:f.httpUrl.informationCheck}).then(function(a){console.log(a.data);var r=a.data.retData;if(200==a.data.errCode){var o=r.person;r.bank;if(1==o)return void t.$vux.alert.show({title:"错误提示",content:"已实名认证",onHide:function(){e.$router.push("/credit_info_list")}})}else 201==a.data.errCode?t.$vux.toast.show({type:"warn",text:a.data.retMsg}):401==a.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){e.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})},showPlugin:function(){this.$vux.alert.show({title:"错误提示",content:"请上传身份证正面图片"})},onChangeFront:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,r=new Image;r.src=t,this.result.length<=102400?e.idCardFrontImgBase64=a.result:r.onload=function(){var t=e.compress(r);e.idCardFrontImgBase64=t}}},onChangeBack:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result,r=new Image;r.src=t,this.result.length<=102400?e.idCardBackImgBase64=a.result:r.onload=function(){var t=e.compress(r);e.idCardBackImgBase64=t}}},checkCardNo:function(){if(!this.isEmpty(this.cardNo))return this.Val.isIdCardNo(this.cardNo)?void 0:(this.$vux.toast.show({text:"请输入正确的身份证号",type:"warn"}),void(this.cardNo=""));this.$vux.toast.show({text:"请输入身份证号",type:"warn"})},submit:function(){var t=this,e=this.$route.query.step_type,a=this.$route.query.orderid,r=this;if(this.isEmpty(this.username))this.$vux.toast.show({text:"请输入姓名",type:"warn"});else if(this.isEmpty(this.cardNo))this.$vux.toast.show({text:"请输入身份证号",type:"warn"});else{if(!this.Val.isIdCardNo(this.cardNo))return this.$vux.toast.show({text:"请输入正确的身份证号",type:"warn"}),void(this.cardNo="");if(this.isEmpty(this.idCardFrontImg))this.showPlugin();else if(this.isEmpty(this.idCardBackImg))this.$vux.alert.show({title:"错误提示",content:"请上传身份证反面图片"});else{this.$vux.loading.show({text:"正在上传..."});var o=this.$qs.stringify({name:this.username,idcard:this.cardNo,img_front:this.idCardFrontImgBase64,img_back:this.idCardBackImgBase64});this.$axios({method:"post",url:f.httpUrl.manualIdcard,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:o}).then(function(o){console.log(o.data),t.$vux.loading.hide(),200==o.data.errCode?t.$vux.alert.show({title:"提示",content:"实名认证成功！",onHide:function(){"1"==e?r.$router.push({path:"/verify_step",query:{orderid:a}}):r.$router.push("/credit_info_list")}}):201==o.data.errCode?(t.$vux.alert.show({title:"提示",content:o.data.retMsg}),t.username="",t.cardNo="",t.idCardFrontImg="",t.idCardBackImg=""):401==o.data.errCode&&t.$vux.alert.show({title:"错误提示",content:"未登录，请先登录",onHide:function(){r.$router.push("/quick_login")}})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}},goHome:function(){this.$router.push("/home")},LoginOut:function(){var t=this;this.$axios({method:"post",url:f.httpUrl.loginOut,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){console.log(e.data),200==e.data.errCode?t.$router.push("/quick_login"):201==e.data.errCode&&t.$vux.toast.show({type:"warn",text:e.data.retMsg})}).catch(function(){this.$vux.toast.show({text:"网络异常，请稍后再试",type:"warn"})})}}}},Jy4A:function(t,e,a){"use strict";var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("popup-header",{attrs:{"left-text":"实名认证","right-text":"提交"},on:{"on-click-right":t.submit}}),t._v(" "),a("group",{attrs:{title:"真实姓名"}},[a("x-input",{attrs:{"is-type":"china-name",max:16,placeholder:"请输入你的真实姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),a("group",{attrs:{title:"身份证号码"}},[a("x-input",{attrs:{max:18,placeholder:"请输入身份证号码"},on:{"on-blur":t.checkCardNo},model:{value:t.cardNo,callback:function(e){t.cardNo=e},expression:"cardNo"}})],1),t._v(" "),a("div",{staticClass:"imgBox"},[a("p",{staticClass:"imgTitle"},[t._v("身份证正面")]),t._v(" "),a("VueImgInputer",{staticClass:"idCardImg",attrs:{theme:"light",accept:"image/*",imgSrc:t.idCardFrontUrl,onChange:t.onChangeFront,maxSize:5242880,placeholder:"请上传身份证正面图片(头像那一面)",noMask:"",size:"small"},model:{value:t.idCardFrontImg,callback:function(e){t.idCardFrontImg=e},expression:"idCardFrontImg"}})],1),t._v(" "),a("div",{staticClass:"imgBox"},[a("p",{staticClass:"imgTitle"},[t._v("身份证反面")]),t._v(" "),a("VueImgInputer",{staticClass:"idCardImg",attrs:{theme:"light",accept:"image/*",imgSrc:t.idCardBackUrl,onChange:t.onChangeBack,maxSize:5242880,placeholder:"请上传身份证反面图片(国徽那一面)",noMask:"",size:"small"},model:{value:t.idCardBackImg,callback:function(e){t.idCardBackImg=e},expression:"idCardBackImg"}})],1),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("actionsheet",{attrs:{menus:t.menus,"show-cancel":""},on:{"on-click-menu-menu1":t.LoginOut},model:{value:t.showMenus,callback:function(e){t.showMenus=e},expression:"showMenus"}})],1)],1)},staticRenderFns:[]};e.a=r},fPEc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("3Tip");a.n(r);for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);var i=a("J5jM"),n=a.n(i),s=a("Jy4A");var d=function(t){a("4OL0")},u=a("VU/8")(n.a,s.a,!1,d,"data-v-fb749b26",null);e.default=u.exports}});
//# sourceMappingURL=41.b4112801c68608d64836.js.map